var item,itemEmag,chart,cod,chartTitle,label,codEmag=void 0,toogleAdvancedSearch=!1,limba="ro",isIE11=!!window.MSInputMethodContext&&!!document.documentMode;document.addEventListener("DOMContentLoaded",function(){function e(e,t){r();var m=document.getElementById("phone-Data-chart"),c=window.screen.availWidth,u=document.getElementById("detItem");let s={};if(c>0){document.getElementById("optionsChart").style.display="flex",document.getElementById("help-content").style.display="none";let a=document.getElementById("round-menu-v1");getComputedStyle(a);let r=[],m=[],c=void 0,p=[];if(Chart.defaults.global.defaultFontColor="#ffffff",Chart.defaults.global.defaultColor="#ffffff",Chart.defaults.global.defaultFontFamily="myFirstFont",null!=item){u.insertAdjacentHTML("beforeend",'<a class="round-theme round-theme-white" href="'+item[3]+'" style="background: none !important; border: none !important;">Pc Garage</a>');for(let t=9;t<=item.length;t++){let a=i(item[t]),r=o(item[t]);if(!n(item[t]))break;if(parseInt(a)>parseInt(e))break;if(c==r||parseInt(a)<parseInt(e))continue;let m=l(item[t]),u=d(item[t]);c=r;let g=r+" "+m;p.push(g),s[g]={pcGarage:u,emag:0}}}if(null!=itemEmag){u.insertAdjacentHTML("beforeend",'<a class="round-theme round-theme-white" href="'+itemEmag[3]+'" style="background: none !important; border: none !important;">Emag</a>'),c=void 0;for(let t=7;t<=itemEmag.length;t++){let a=i(itemEmag[t]),r=o(itemEmag[t]);if(!n(itemEmag[t]))break;if(parseInt(a)>parseInt(e))break;if(c==r||parseInt(a)<parseInt(e))continue;let m=l(itemEmag[t]),u=d(itemEmag[t]);c=r;let g=r+" "+m;p.push(g),s.label?s.label.emag=u:s[g]={pcGarage:0,emag:u}}}p.sort(function(e,t){let n=parseInt(e.split(" ")[0].split("/")[1]),a=parseInt(e.split(" ")[0].split("/")[0]),i=parseInt(t.split(" ")[0].split("/")[1]),o=parseInt(t.split(" ")[0].split("/")[0]);return n==i&&a<o?-1:n==i&&a>o?1:n<i?-1:0}),p.forEach(e=>{r.push(s[e].pcGarage),m.push(s[e].emag)});var g=document.getElementById("myChart").getContext("2d");(chart=new Chart(g,{type:t,data:{labels:p,datasets:[{label:"Pc Garage",data:r,borderColor:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(232, 126, 4, 0.4)",borderWidth:1},{label:"Emag",data:m,borderColor:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(44, 130, 201, 0.4)",borderWidth:1}]},options:{title:{display:!0,text:chartTitle},layout:{padding:{left:0,right:0,top:0,bottom:100}},responsive:!0,maintainAspectRatio:!1}})).canvas.parentNode.style.height="90%",chart.canvas.parentNode.style.width="93%"}else{currentDate=void 0,document.getElementById("help-content").style.display="none",document.getElementById("optionsChart").style.display="flex";for(let t=9;t<item.length;t++){let r=i(item[t]),c=o(item[t]);if(!n(item[t]))break;if(parseInt(r)>parseInt(e))break;if(currentDate==c||parseInt(r)<parseInt(e))continue;let u=a(item[t]),s=l(item[t]),g=d(item[t]);currentDate=c,m.insertAdjacentHTML("beforeend",'<div class="round-theme round-theme-white round-row round-shadow-default" style="margin-top: 5px;"><div class="round-col-12"><span>'+u+" | "+s+'</span></div><div class="round-col-12"><span>'+g+" RON</span></div></div>")}}}function t(){null!=chart&&chart.destroy(),document.getElementById("optionsChart").style.display="none",document.getElementById("detItem").innerHTML=""}function n(e){let t=e.split(" ");return null!=t[0]&&null!=t[1]&&null!=t[2]}function a(e){let t=e.split(" ")[0].split("/");return t=t[1]+"/"+t[0]+"/"+t[2]}function i(e){return e.split(" ")[0].split("/")[2]}function o(e){let t=e.split(" ")[0].split("/");return t=t[1]+"/"+t[0]}function l(e){let t=e.split(" ");return t="PM"==t[2]||"AM"==t[2]?t[1]+" "+t[2]:t[1]}function d(e){let t;try{t=e.split(" ")[3].replace(".",""),t=parseInt(t)}catch{t=""}return Number.isInteger(t)?parseInt(t):(t=e.split(" ")[2].replace(".",""),parseInt(t))}function r(){document.getElementById("round-notification").innerHTML=""}isIE11&&(document.getElementById("body").innerHTML=""),document.getElementById("searchButton").addEventListener("click",function(n){!async function(){let n=window.screen.availWidth;if(document.getElementById("div-chart").style.display="flex",cod=document.getElementById("search").value.toLowerCase().trim(),codEmag=document.getElementById("searchEmag").value.toLowerCase().trim(),toogleAdvancedSearch)if(""!=cod&&(cod=cod.replace("/","+-+"),await async function(){let e=await fetch("./items/"+cod+".txt").then(e=>e.text()).then(e=>e.split("\n"));if("Product link"==e[2].trim())item=e;else{let t=await fetch("./items-pcgarage/"+cod+".txt").then(e=>e.text()).then(e=>e.split("\n")[0]);Number.isInteger(parseInt(t))?(e=await fetch("./items/"+t+".txt").then(e=>e.text()).then(e=>e.split("\n")),item="Product link"==e[2].trim()?e:void 0):item=void 0}}()),codEmag.includes("/pd/")?(codEmag=codEmag.toLowerCase(),await async function(){let e=codEmag.split("/pd/")[1].split("/")[0];e=await fetch("./items2/"+e+".txt").then(e=>e.text()).then(e=>e.split("\n")[0]);let t=await fetch("./items-emag/"+e+".txt").then(e=>e.text()).then(e=>e.split("\n"));itemEmag="Product link"==t[2].trim()?t:void 0}()):(codEmag=codEmag.replace("/","+-+"),await async function(){let e=await fetch("./items-emag/"+codEmag+".txt").then(e=>e.text()).then(e=>e.split("\n"));itemEmag="Product link"==e[2].trim()?e:void 0}()),null==item&&null==itemEmag){document.getElementById("help-content").style.display="none";let e=document.getElementById("round-notification");r(),t(),e.insertAdjacentHTML("beforeend",'<div class="round-theme round-theme-white round-row round-shadow-default round-right" style="position: absolute; top: 10%; text-align: center; width: 60%; left: 20%;"><div class="round-col-8"> '+cod.replace("+-+","/")+" Nu exista / Not found</div></div>"),cod=void 0}else chartTitle=null!=item&&null==itemEmag?item[5].replace("&#039;&#039;","''"):null==item&&null!=itemEmag?itemEmag[5]:n<600?item[5].replace("&#039;&#039;","''").slice(0,25)+".../ "+itemEmag[5].slice(0,25)+"...":item[5].replace("&#039;&#039;","''")+" / "+itemEmag[5],t(),e(document.getElementById("year").value,document.getElementById("chartType").value);else if(codEmag=void 0,cod.includes("/pd/")?await async function(){let e=cod.split("/pd/")[1].split("/")[0];e=await fetch("./items2/"+e+".txt").then(e=>e.text()).then(e=>e.split("\n")[0]);let t=await fetch("./items-emag/"+e+".txt").then(e=>e.text()).then(e=>e.split("\n"));if("Product link"==t[2].trim()){itemEmag=t;let n=await fetch("./items-pcgarage/"+e+".txt").then(e=>e.text()).then(e=>e.split("\n")[0]);Number.isInteger(parseInt(n))?(x=await fetch("./items/"+n+".txt").then(e=>e.text()).then(e=>e.split("\n")),"Product link"==x[2].trim()&&(item=x)):item=void 0}else itemEmag=void 0,item=void 0}():(cod=cod.replace("/","+-+"),await async function(){let e=await fetch("./items-pcgarage/"+cod+".txt").then(e=>e.text()).then(e=>e.split("\n"));Number.isInteger(parseInt(e[0]))&&(e=await fetch("./items/"+e[0]+".txt").then(e=>e.text()).then(e=>e.split("\n")));let t=await fetch("./items-emag/"+cod+".txt").then(e=>e.text()).then(e=>e.split("\n"));item="Product link"==e[2].trim()?e:void 0;itemEmag="Product link"==t[2].trim()?t:void 0}(),null==item&&null==itemEmag&&await async function(){let e=await fetch("./items/"+cod+".txt").then(e=>e.text()).then(e=>e.split("\n"));if("Product link"==e[2].trim())if(item=e,e[0].includes("|")){let t=e[0].split("|")[1].toLowerCase(),n=await fetch("./items-emag/"+t+".txt").then(e=>e.text()).then(e=>e.split("\n"));itemEmag="Product link"==n[2].trim()?n:void 0}else itemEmag=void 0;else item=void 0,itemEmag=void 0}()),null==item&&null==itemEmag){document.getElementById("help-content").style.display="none";let e=document.getElementById("round-notification");r(),t(),e.insertAdjacentHTML("beforeend",'<div class="round-theme round-theme-white round-row round-shadow-default round-right" style="position: absolute; top: 10%; text-align: center; width: 60%; left: 20%;"><div class="round-col-8"> '+cod.replace("+-+","/")+" Nu exista / Not found</div></div>"),cod=void 0}else chartTitle=null!=item?item[5].replace("&#039;&#039;","''"):itemEmag[5],t(),n<600&&(chartTitle=chartTitle.slice(0,50)+"..."),e(document.getElementById("year").value,document.getElementById("chartType").value);closeMenu()}()}),document.getElementById("closeNotifButton").addEventListener("click",function(e){r()}),document.getElementById("chartType").addEventListener("change",function(n){t(),e(document.getElementById("year").value,document.getElementById("chartType").value)}),document.getElementById("limbaRomana").addEventListener("click",function(e){document.getElementById("searchButton").innerHTML="Cauta",document.getElementById("limba-tema").innerHTML="Temă întunecată",document.getElementById("limba-ajutor").innerHTML="Ajutor",document.getElementById("limba-email").innerHTML="Email de contact",document.getElementById("limba-cautare-avansata").innerHTML="Cautare avansata";try{document.getElementById("limba-mesaj-swipe").innerHTML="Glisați la << pentru a deschide meniul."}catch{}document.getElementById("limba-tip-graf").innerHTML="Tip",document.getElementById("limba-optine-bare").innerHTML="Bare",document.getElementById("limba-optine-linie").innerHTML="Linie",document.getElementById("limba-an").innerHTML="An",document.getElementById("ajutor-cautare-avansata-titlu").innerHTML="Cautare avansata",document.getElementById("limba-tooltip-text-pcg").innerHTML="Cod Producator / Cod Pc Garage / Link produs Emag",document.getElementById("limba-tooltip-text-emag").innerHTML="Cod Producator / Link produs Emag",document.getElementById("ajutor-cautare-avansata").innerHTML="Dacă nu puteți găsi istoricul pentru ambele site-uri, puteți introduce coduri separate. Codul producătorului poate fi diferit de codul produsului. <br/> Sau comparați prețul a două produse diferite."}),document.getElementById("limbaEngleza").addEventListener("click",function(e){limba="ro"==limba?"en":"ro",document.getElementById("searchButton").innerHTML="Search",document.getElementById("limba-tema").innerHTML="Dark mode",document.getElementById("limba-ajutor").innerHTML="Help",document.getElementById("limba-email").innerHTML="Contact email",document.getElementById("limba-cautare-avansata").innerHTML="Advanced search";try{document.getElementById("limba-mesaj-swipe").innerHTML="Swipe << for menu"}catch{}document.getElementById("limba-tip-graf").innerHTML="Type",document.getElementById("limba-optine-bare").innerHTML="Bars",document.getElementById("limba-optine-linie").innerHTML="Line",document.getElementById("limba-an").innerHTML="Year",document.getElementById("ajutor-cautare-avansata-titlu").innerHTML="Advanced search",document.getElementById("limba-tooltip-text-pcg").innerHTML="Manufacturer Code / Pc Garage Code / Emag product link",document.getElementById("limba-tooltip-text-emag").innerHTML="Manufacturer Code / Product Link Emag",document.getElementById("ajutor-cautare-avansata").innerHTML="If you can't find the history for both sites you can enter separate codes. Manufacturer code may be different from product code.<br/>Or compare the price of two different products."}),document.getElementById("limba-ajutor").addEventListener("click",function(e){closeMenu(),t(),r(),document.getElementById("help-content").style.display="flex",document.getElementById("div-chart").style.display="none"}),document.getElementById("cautare-avansata").addEventListener("click",function(e){"none"==document.getElementById("searchbox-emag").style.display?(document.getElementById("searchbox-emag").style.display="flex",document.getElementById("label-searchbox-pcgarage").innerHTML="Pc Garage",document.getElementById("limba-tooltip-text-pcg").innerHTML="ro"==limba?"Cod Producator / Cod Pc Garage":"Manufacturer Code / Pc Garage Code",toogleAdvancedSearch=!0):(document.getElementById("limba-tooltip-text-pcg").innerHTML="ro"==limba?"Cod Producator / Cod Pc Garage / Link produs Emag":"Manufacturer Code / Cod Pc Garage / Emag product link",document.getElementById("label-searchbox-pcgarage").innerHTML="Pc Garage & Emag",document.getElementById("searchbox-emag").style.display="none",toogleAdvancedSearch=!1)})},!1);
